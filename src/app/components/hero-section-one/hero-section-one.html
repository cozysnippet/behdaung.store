<section class="relative min-h-[85vh] w-full bg-white flex flex-col lg:flex-row overflow-hidden">

  <div class="w-full lg:w-3/5 h-[65vh] lg:h-screen relative group">
    <div
      #heroSlider
      (scroll)="onScroll()"
      class="flex h-full overflow-x-auto no-scrollbar snap-x snap-mandatory scroll-smooth gap-4 px-4 lg:px-10"
    >
      <div *ngFor="let prod of products; let i = index"
           class="min-w-[85%] lg:min-w-[90%] h-full snap-center relative overflow-hidden rounded-sm">

        <img [src]="prod.img" class="w-full h-full object-cover">

        <div class="absolute inset-0 bg-gradient-to-tr from-black/40 via-transparent to-transparent lg:opacity-0 lg:group-hover:opacity-100 transition-opacity duration-500 flex items-end justify-start p-10 lg:p-16">
          <button (click)="goToProduct(prod.id)"
                  class="bg-white/95 backdrop-blur-md text-black px-6 py-3 lg:px-8 lg:py-4 text-[9px] lg:text-[10px] uppercase tracking-[0.3em] font-bold hover:bg-[#C5A059] hover:text-white transition-all transform shadow-2xl mb-4">
            View Details — ០{{i + 1}}
          </button>
        </div>
      </div>
    </div>

    <div class="absolute bottom-12 left-1/2 -translate-x-1/2 flex gap-3 z-30 pointer-events-none">
      <div
        *ngFor="let prod of products; let i = index"
        (click)="scrollToSlide(i)"
        class="h-1.5 rounded-full transition-all duration-500 cursor-pointer pointer-events-auto"
        [ngClass]="{
          'bg-white w-10 shadow-sm': currentSlide === i,
          'bg-white/30 w-2': currentSlide !== i
        }"
      ></div>
    </div>
  </div>

  <div class="w-full lg:w-2/5 flex flex-col justify-center px-8 lg:px-20 py-12 lg:py-0 bg-white">
    <div class="reveal-content">
      <div class="flex items-center gap-4 mb-10">
        <span class="w-12 h-[1px] bg-[#C5A059]"></span>
        <p class="text-[10px] text-[#C5A059] uppercase tracking-[0.6em] font-bold">New Arrival ២០២៦</p>
      </div>

      <h2 class="text-black mb-12">
        <span class="block font-khmer-bold text-6xl lg:text-8xl mb-2 tracking-tighter">បណ្តុះមន្តស្នេហ៍</span>
        <span class="block font-khmer-bold text-4xl lg:text-5xl opacity-30 italic tracking-tight">ក្នុងខ្លួនអ្នក</span>
      </h2>

      <p class="text-gray-500 text-sm leading-relaxed mb-12 max-w-md font-light">
        ស្វែងយល់ពីការប្រមូលថ្មីបំផុតរបស់យើង ដែលរួមបញ្ចូលគ្នានូវភាពទាន់សម័យ និងផាសុកភាពសម្រាប់គេហដ្ឋានរបស់អ្នក។
      </p>

      <button routerLink="/shop" class="group flex items-center gap-6">
        <span class="text-[10px] uppercase tracking-[0.4em] font-bold">ស្វែងរកឥឡូវនេះ</span>
        <div class="w-12 h-12 rounded-full border border-black flex items-center justify-center group-hover:bg-black group-hover:text-white transition-all">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
          </svg>
        </div>
      </button>
    </div>
  </div>
</section>
